# useMemo

这是 16.8 版本更新的一个 Hook

按照官网描述，他返回一个 memoized 值，在官网放置的链接介绍了这个，大致意思就是这是一个提高计算机程序执行速度的优化技术，通过储存大计算量函数的返回值，当这个结果再次被需要时将其从缓存提取，而不用再次计算来节省时间。

等于 useMemo 返回一个记忆函数

按照我看的一个小项目中，useMemo 是需要两个参数，一个是创建函数，另一个是依赖项数组，它仅会在某个依赖项改变时才重新计算 memoized 值，这种优化有助于避免在每次渲染时都进行稿开销的计算。

不过官网也提醒如下

记住，传入 useMemo 的函数会在渲染期间执行。请不要在这个函数内部执行不应该在渲染期间内执行的操作，诸如副作用这类的操作属于 useEffect 的适用范畴，而不是 useMemo。

如果没有提供依赖项数组，useMemo 在每次渲染时都会计算新的值。

你可以把 useMemo 作为性能优化的手段，但不要把它当成语义上的保证。将来，React 可能会选择“遗忘”以前的一些 memoized 值，并在下次渲染时重新计算它们，比如为离屏组件释放内存。先编写在没有 useMemo 的情况下也可以执行的代码 —— 之后再在你的代码中添加 useMemo，以达到优化性能的目的。
